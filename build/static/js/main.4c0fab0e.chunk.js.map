{"version":3,"sources":["Services/persons.js","Components/button.js","Components/persons.js","Components/notification.js","App.js","index.js"],"names":["baseUrl","methods","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","remove","delete","console","log","Button","text","onClick","Persons","namesToShow","deleteName","map","person","name","number","Notification","message","successNotification","notificationStyle","color","background","fontSize","fontWeight","borderStyle","borderRadius","padding","marginBottom","style","Header","Filter","filter","handleFiltering","value","onChange","AddNewForm","props","onSubmit","handleAddOrUpdate","newName","handleNameChange","newNumber","handleNumberChange","type","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","filtering","setFiltering","notificationMessage","setNotificationMessage","setSuccessNotification","useEffect","PersonsService","showNotification","setTimeout","addName","newPerson","returnedPerson","concat","catch","error","updateNumber","window","confirm","find","updatedPerson","p","toLowerCase","startsWith","event","target","preventDefault","includes","newPersons","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4c0fab0e.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => console.log(response))\r\n}\r\n\r\nconst methods = { getAll, create, update, remove }\r\n\r\nexport default methods;","import React from 'react'\r\n\r\nconst Button = ({ text, onClick}) => {\r\n    return (\r\n        <button onClick={onClick}>\r\n            {text}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport Button from './button'\r\n\r\nconst Persons = ({ namesToShow, deleteName }) => {\r\n    return (\r\n        <ul>\r\n            {namesToShow.map(person => <li key={person.id}>{person.name} {person.number} <Button text='Delete' onClick={() => deleteName(person.id)} /></li>)}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Persons","const Notification = ({ message, successNotification }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    const success = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        fontWeight: 'bold',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n    }\r\n\r\n    const error = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: '20px',\r\n        fontWeight: 'bold',\r\n        borderStyle: 'solid',\r\n        borderRadius: '5px',\r\n        padding: '10px',\r\n        marginBottom: '10px'\r\n    }\r\n\r\n    const notificationStyle = successNotification ? success : error\r\n\r\n    return (\r\n        <div style={notificationStyle}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\r\nimport PersonsService from './Services/persons'\r\nimport Persons from './Components/persons'\r\nimport Notification from './Components/notification'\r\n\r\nconst Header = ({ text }) => {\r\n    return (\r\n        <h2>{text}</h2>\r\n    )\r\n}\r\n\r\nconst Filter = ({ filter, handleFiltering }) => {\r\n    return (\r\n        <div>\r\n            Filter shown with: <input value={filter} onChange={handleFiltering} /><br />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst AddNewForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleAddOrUpdate}>\r\n            <div>\r\n                Name: <input value={props.newName} onChange={props.handleNameChange} /><br />\r\n                Number: <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [filter, setFilter] = useState('')\r\n    const [filtering, setFiltering] = useState(false)\r\n    const [notificationMessage, setNotificationMessage] = useState(null);\r\n    const [successNotification, setSuccessNotification] = useState(true);\r\n\r\n    useEffect(() => {\r\n        PersonsService\r\n            .getAll()\r\n            .then(persons => {\r\n                setPersons(persons)\r\n            })\r\n    }, []);\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFiltering = (event) => {\r\n        if (event.target.value === \"\") {\r\n            setFiltering(false)\r\n        } else {\r\n            setFiltering(true)\r\n        }\r\n        setFilter(event.target.value)\r\n    }\r\n\r\n    const handleAddOrUpdate = (event) => {\r\n        event.preventDefault()\r\n        const names = persons.map(person => person.name)\r\n        names.includes(newName) ? updateNumber() : addName()\r\n    }\r\n\r\n    const showNotification = (text) => {\r\n        setNotificationMessage(text)\r\n\r\n        setTimeout(() => {\r\n            setNotificationMessage(null)\r\n        }, 5000)\r\n    }\r\n\r\n    const addName = () => {\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        PersonsService\r\n            .create(newPerson)\r\n            .then(returnedPerson => {\r\n                setSuccessNotification(true)\r\n                showNotification(`Succesfully added ${returnedPerson.name}`)\r\n                setPersons(persons.concat(returnedPerson))\r\n                setNewName('')\r\n                setNewNumber('')\r\n            })\r\n            .catch(error => {\r\n                setSuccessNotification(false)\r\n                showNotification(`Error happened while adding ${error.name} to the phonebook`)\r\n            })\r\n    }\r\n\r\n    const updateNumber = () => {\r\n        const confirm = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\r\n        if (confirm) {\r\n            const person = persons.find(person => person.name === newName)\r\n            const updatedPerson = {\r\n                ...person,\r\n                number: newNumber\r\n            }\r\n            console.log(person);\r\n            PersonsService\r\n                .update(person.id, updatedPerson)\r\n                .then(returnedPerson => {\r\n                    setSuccessNotification(true)\r\n                    showNotification(`Succesfully updated ${returnedPerson.name}`)\r\n                    setPersons(persons.map(p => p.id !== person.id ? p : returnedPerson))\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                })\r\n                .catch(error => {\r\n                    setSuccessNotification(false)\r\n                    showNotification(`Error happened while updating the number for ${person.name}`)\r\n                })\r\n        }\r\n    }\r\n\r\n    const deleteName = (id) => {\r\n        const person = persons.find(person => person.id === id)\r\n        const confirm = window.confirm(`Are you sure you want to delete ${person.name} from phonebook?`)\r\n        if (confirm) {\r\n            PersonsService\r\n                .remove(id)\r\n                .then(() => {\r\n                    setSuccessNotification(true)\r\n                    showNotification(`Succesfully deleted ${person.name}`)\r\n                    const newPersons = persons.filter(person => person.id !== id);\r\n                    setPersons(newPersons)\r\n                })\r\n                .catch(error => {\r\n                    setSuccessNotification(false)\r\n                    showNotification(`Error happened while deleting ${person.name} from phonebook`)\r\n                })\r\n        }\r\n    }\r\n\r\n    const namesToShow = filtering ? persons.filter(person => person.name.toLowerCase().startsWith(filter.toLowerCase())) : persons\r\n\r\n    return (\r\n        <div>\r\n            <Notification message={notificationMessage} successNotification={successNotification} />\r\n            <Header text='Phonebook' />\r\n            <Filter filter={filter} handleFiltering={handleFiltering} />\r\n            <Header text='Add a new' />\r\n            <AddNewForm\r\n                newName={newName}\r\n                newNumber={newNumber}\r\n                handleAddOrUpdate={handleAddOrUpdate}\r\n                handleNameChange={handleNameChange}\r\n                handleNumberChange={handleNumberChange}\r\n            />\r\n            <Header text='Numbers' />\r\n            <Persons namesToShow={namesToShow} deleteName={(id) => deleteName(id)} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}